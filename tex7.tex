\documentclass[dvipdfmx]{jsarticle}

\include{begin}

\section{MVCモデルと処理の遷移}

\subsection{フォワード}

\textsf{C:/pleiades/tomcat/9/conf/Catalina/localhost} にある \textsf{example.xml} を
コピーして \textsf{example6.xml}を作成する。\\
内容は以下のようにする。

\begin{tcolorbox}
\begin{verbatim}
<?xml version='1.0' encoding='utf-8'?>
<Context path="/example6" docBase="C:\Users\user\Documents\sukkiri\example6" />
\end{verbatim}
\end{tcolorbox}

\textsf{sukkiri} の中の \textsf{example6} フォルダに入る。

最初に p174 の \textsf{ForwardSampleServlet.java} を入力する。

\textsf{servlet}パッケージなので、\textsf{src/servlet}フォルダの中で \textsf{ForwardSampleServlet.java} を作成する。


\begin{tcolorbox}
\begin{verbatim}
./example
├── WEB-INF/
│   ├── classes/
│   └── jsp/
│       └── ForwardSample.jsp
├── index.html
├── build.xml
└── src/
    └── servlet/
        ├── RedierctSampleServlet.java
        └── ForwardSampleServlet.java
\end{verbatim}
\end{tcolorbox}

\textsf{index.html}には

 \begin{tabular}{|l|}
  \hline
\verb!<a href="/example6/ForwardSampleServlet">フォワードサンプルサーブレット</a>! \\ \hline
 \end{tabular}

というリンクを作っておく。

入力が終了したら、\textsf{example} のトップで、

\begin{tcolorbox}
\begin{verbatim}
> ant <リターン>
\end{verbatim}
\end{tcolorbox}

とすれば自動的に \textsf{WEB-INF/classes} フォルダにコンパイル済みのファイルが保存される。

無事コンパイルがすめば、Tomcat を再起動する。

ブラウザにて \textsf{http://localhost:8080/example/ForwardSampleServlet} アクセスすると、jspファイルが表示される。


\subsection{リダイレクト}

今回も、同じ \textsf{example6.xml} で作業する。（同じURL）

\begin{tcolorbox}
\begin{verbatim}
./example
├── WEB-INF/
│   ├── classes/
│   └── jsp/
├── index.html
├── build.xml
├── sample.jsp
├── formSample.jsp
└── src/
    └── servlet/
        └── RedirectSampleServlet.java
\end{verbatim}
\end{tcolorbox}
\footnote{今回入力するファイルのみ表示}

\textsf{ant} でのコンパイルは前回と同じ。







\include{end}

%% 修正時刻： Tue Aug 18 18:16:49 2020

